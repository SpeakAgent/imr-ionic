<ion-view hide-nav-bar="true" ng-controller="TaskViewController as taskView">
  <ion-content style="background: #DDD">
    <div class="bar bar-header morningHeader">
      <a ui-sref="tab.schedule" class="button button-clear button-positive item-icon-right ion-close-round"></a>
    </div>
    <br>
    <br>

    <div class="item item-thumbnail-left headerTask" href="#">
      <img ng-src="{{ task.image }}">
      <h2 class="taskTittle">{{ task.title }}</h2>

      <div class="col-xs-1">
        <img src="img/youtube.png" class="valign tube">
      </div>
    </div>

    <ul class="nav nav-pills stepsButtons">
      <li ng-class="{ active: taskView.isSelected(1) }" class="text-center listSchedule"><a href="" ng-click="taskView.selectTab(1)" class="dayList">Single Step</a></li>
      <li ng-class="{ active: taskView.isSelected(2) }" class="text-center listSchedule"><a href="" ng-click="taskView.selectTab(2)">All Steps</a></li>
    </ul>


    <!-- START DAY SECTION -->
    <div class="taskView" ng-show="taskView.isSelected(1)">
      <div class="text-center">
        <button class="btn btn-primary btn-small taskHelp" ng-click="openModal()">Get help with this task</button>
        <h4 class="important">Note: Bring your apron!</h4>
      </div>
      <div class="card">
        <div class="item item-text-wrap task-item">
          <h4>Step {{ stepNum + 1 }}</h4>
          <div class="item item-thumbnail-left task-item">
            <img src="{{ task.steps[stepNum].image }}">
            <p>{{ task.steps[stepNum].title }}</p>
            <div class="col-xs-1">
              <img src="img/headphone.png" class="valign speaker">
              <a class="button button-small button-assertive speakButton valign speakView">
                Listen
              </a>
            </div>
          </div>
          <i ng-hide="done" class="ion-checkmark-round checkmark"></i>
          <i ng-show="done" ng-click="doneTask()" class="ion-checkmark-circled checkmarkDone"></i>
          <button ng-click="doneTask()" ng-hide="done" class="button button-small button-assertive doneButton">
            Done!
          </button>
        </div>
      </div>
      <div class="text-left">
        <div ng-show="stepNum != 0">
          <a ng-click="stepNum = stepNum - 1" class="button icon-left ion-chevron-left arrow3"><span class="nextStep">Back</span></a>
        </div>
      </div>
    </div>
      <div class="text-right" ng-hide="taskView.isSelected(2)">
        <div ng-show="stepNum != maxStepNum ">
          <a ng-click="stepNum = stepNum + 1" class="button icon-right ion-chevron-right arrow3"><span class="nextStep">Forward</span></a>
        </div>
      </div>
    </div>
    <!-- END DAY SECTION -->

    <!-- START WEEK SECTION -->
    <div class="taskView" ng-show="taskView.isSelected(2)">
      <button class="btn btn-primary btn-small taskHelp">Get help with this task</button>
      <div class="card" ng-repeat="step in task.steps">
        <div class="item item-text-wrap task-item">
          <h4>Step {{ $index + 1 }}</h4>
          <div class="item item-thumbnail-left task-item">
            <img src="{{ step.image }}">
            <p>{{ step.title }}</p>
            <div class="col-xs-1">
              <img src="img/headphone.png" class="valign speaker">
              <a class="button button-small button-assertive speakButton valign speakView">
                Listen
              </a>
            </div>
          </div>
          <i ng-hide="done" class="ion-checkmark-round checkmark"></i>
          <i ng-show="done" ng-click="doneTask()" class="ion-checkmark-circled checkmarkDone"></i>
          <button ng-click="doneTask()" ng-hide="done" class="button button-small button-assertive doneButton">
            Done!
          </button>
        </div>
      </div>
    </div>
  <!-- END WEEK SECTION -->
  </ion-content>
</ion-view>
